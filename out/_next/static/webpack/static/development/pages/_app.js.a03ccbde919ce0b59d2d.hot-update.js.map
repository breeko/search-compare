{"version":3,"file":"static/webpack/static/development/pages/_app.js.a03ccbde919ce0b59d2d.hot-update.js","sources":["webpack:///./pages/_app.tsx"],"sourcesContent":["import { Container } from \"@material-ui/core\"\nimport App from \"next/app\"\nimport Head from \"next/head\"\nimport Router from \"next/router\"\nimport React, { useState } from \"react\"\nimport AppToolbar from \"../src/components/AppToolbar\"\nimport { AppContext } from \"../src/context/AppContext\"\nimport { getDdgResults, getGoogleResults } from \"../src/utils/api\"\n\n// const Layout: React.FunctionComponent = (props) => {\nexport default class MyApp extends App {\n  public state = {\n    search: \"\",\n    setSearch: (search: string) => this.setState({search}),\n    isLoading: false,\n    setIsLoading: (isLoading: boolean) => this.setState({isLoading}),\n    googleResults: Array<SearchResult | undefined>(),\n    setGoogleResults: (googleResults: SearchResult[] | undefined) => this.setState({googleResults}),\n    ddgResults: Array<SearchResult | undefined>(),\n    setDdgResults: (ddgResults: SearchResult[] | undefined) => this.setState({ddgResults}),\n  }\n\n  public runSearch = (term: string) => {\n    if (term) {\n      if (Router.pathname !== \"/\") {\n        // TODO: Change to page and keep state!!\n        Router.push(\"/\").then(() => {this.state.setSearch(term); this.runSearch(term)})\n      } else {\n        this.state.setIsLoading(true)\n        this.state.setDdgResults(undefined)\n        this.state.setGoogleResults(undefined)\n        const g = getGoogleResults(term, 2).then(this.state.setGoogleResults)\n        const d = getDdgResults(term).then(this.state.setDdgResults)\n        Promise.all([g, d]).then(() => this.state.setIsLoading(false))\n      }\n    }\n  }\n\n  public render() {\n    const { Component, pageProps } = this.props;\n    return(\n      <AppContext.Provider value={{...this.state, runSearch: this.runSearch}}>\n        <Head>\n          <link rel=\"icon\" type=\"image/x-icon\" href=\"/public/static/favicon.ico\" />\n          <title>Search Compare</title>\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\n        </Head>\n        <AppToolbar/>\n        <Container maxWidth=\"lg\">\n          <Component {...pageProps} />\n        </Container>\n      </AppContext.Provider>\n    )\n  }\n}\n\n// export default Layout\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AARA;AACA;AAUA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AA3CA;AACA;AACA;;;;;A","sourceRoot":""}